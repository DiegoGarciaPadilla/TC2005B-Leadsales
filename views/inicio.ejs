<!DOCTYPE html>
<head>
  <title>Inicio</title>
  <link rel="stylesheet" href="/css/output.css" />
  <link rel="icon" href="../public/uploads/favicon.ico" type="image/x-icon"/>
  <style>

    #main-content {
      transition: padding-left 0.3s ease,  max-width 0.3s ease;
      padding-left: 3.0rem;
      max-width: calc(100vw - 3.5rem); /* Adjust the padding-left value */
      overflow-x: hidden; /* Hide horizontal overflow */
    }
    .side:hover ~ #main-content {
      padding-left: 10rem;
      max-width: calc(100vw - 10rem); /* Adjust the padding-left value */
    }
    #rocket {
      position: absolute; 
      top: 180px; 
      left: 780px; 
      opacity: 50%;
    }

    </style>
</head>
<body class="bg-[#E4E8EE]">
  <%- include('partials/sidebar.ejs') %>
  <%- include('partials/asideBoton.ejs') %>  
    <div id="main-content" class="w-full ml-14 mt-8 pl-20 display:flex">
      <div class="flex">
        <h1 class="mb-6 text-2xl font-semibold leading-none tracking-tight text-blue-600 md:text-3xl lg:text-3xl">Bienvenidx <span class="text-blue-600 dark:text-blue-500"><%= correo %>!</span></h1>
        <p id="p1" style="position: absolute; top: 25px; right: 350px;" class="text-lg font-bold leading-none tracking-tight text-gray-900 md:text-lg lg:text-lg dark:text-blue-500 underline underline-offset-4 decoration-1 decoration-blue-400 dark:decoration-blue-600"></p>
      </div>

      <div id="alertas">
        <%- include('partials/success', {success: success}) %>
        <%- include('partials/error', {error: error}) %>
      </div>

      <div id="rocket" class="flex">
        <img src="/uploads/rocket.png" width="300px">
      </div>

      <div id="placeholder" class="bg-[#d2d9ea] w-[38%] rounded-2xl shadow-lg flex flex-col justify-between" style="height: 595px;">
        <div id="containerOne" class="max-w-lg p-6 pl-12">
          <svg id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 586.44 578.27" class="w-8 h-8 m-4">
            <defs>
              <style>
                .cls-1 {
                  fill: #636ae8;
                  stroke-width: 0px;
                }
              </style>
            </defs>
            <g id="Layer_1-2" data-name="Layer 1">
              <path class="cls-1" d="M586.35,289.9c1.21,43.51-9.69,84.53-28.34,123.14-10.21,21.12-12.24,40.47-3.06,62.05,6.26,14.7,11.1,30.17,14.86,45.71,6.33,26.16-8.53,44.36-35.63,44.29-23.81-.06-45.28-10.24-67.07-17.97-16.27-5.77-29.88-4.5-45.76,2.46-124.82,54.71-253.76,30.68-343.7-67.89C3,399.88-19.45,302.06,17.38,197.53,53.92,93.82,126.95,25.27,238.83,5.63c125.72-22.06,225.07,21.01,300.38,123.1,35.58,48.23,45.66,103.29,47.13,161.17ZM454,454.81c.56-23.62.55-44.64,12.22-64.65,40.82-69.99,41.65-141.49-3.61-208.97-45.83-68.33-112.95-98.83-194.94-88.8-86.52,10.58-140.07,64.08-167.15,143.69-24.3,71.45,4.1,158.75,69.21,208.83,64.08,49.28,135.77,58.69,210.54,23.58,23.28-10.94,45.37-24.72,73.73-13.67Z"/>
            </g>
          </svg>
          <a href="https://leadsales.io/" target="_blank">
            <h5 class="mb-2 text-2xl font-semibold leading-none tracking-tight text-blue-600 md:text-xl lg:text-xl">Conoce m치s sobre <span class="text-blue-600 dark:text-blue-500">Leadsales!</span></h5>
          </a>
          <p class="mb-3 font-normal text-gray-500 dark:text-gray-400 text-sm md:text-base lg:text-base max-w-96">El CRM confiado por m치s de 2500 empresas para centralizar chats en columnas y brindar una atenci칩n al cliente m치s personalizada </p>
          <a href="https://leadsales.io/" target="_blank" class="inline-flex font-medium items-center text-blue-600 hover:underline text-sm md:text-base lg:text-base">
            Descubre Leadsales
            <svg class="w-3 h-3 ms-2.5 rtl:rotate-[270deg]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11v4.833A1.166 1.166 0 0 1 13.833 17H2.167A1.167 1.167 0 0 1 1 15.833V4.167A1.166 1.166 0 0 1 2.167 3h4.618m4.447-2H17v5.768M9.111 8.889l7.778-7.778"/>
            </svg>
          </a>
        </div>
        
      
        <% if (privilegios.some((priv) => priv.Descripcion === "Importa datos de leads.")) { %>
          <div id="containerTwo" class="flex flex-col max-w-lg p-6 pl-12 mb-4">
            <h1 class="text-2xl font-semibold dark:text-blue-700 pr-20">Importar<small class="ms-2 font-normal text-gray-500 dark:text-gray-800">datos de leads</small></h1>
            <div class="h-52 sm:w-64 border-dashed border-2 border-blue-400 rounded-xl p-7 mt-6" style="width: 25rem">
              <!-- Hidden file input -->
              <form class="max-w-lg mx-auto flex flex-col items-start" id="uploadForm" action="/" method="POST" enctype="multipart/form-data">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>" >
      
                <div class="mt-4">
                  <input class="block w-[75%] ml-10 text-sm text-gray-900 border 
                  border-gray-300 rounded-lg cu rsor-pointer bg-gray-50 
                  dark:text-gray-400 focus:outline-none dark:bg-gray-700 
                  dark:border-gray-600 dark:placeholder-gray-400 mb-4" 
                  type="file" id="file" name="file" accept=".csv"/>
                  <p class="pl-6 mb-2 text-sm text-gray-500">Sube un archivo .csv con los datos de tus leads.</p>
                  
                  <button class="text-white bg-blue-700 hover:bg-blue-800 
                  focus:ring-4 focus:ring-blue-300 font-medium rounded-lg 
                  text-sm px-5 py-2.5 me-2 ml-28 dark:bg-blue-600 
                  dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800" 
                  type="submit" value="Guardar">Subir archivo</button>
                </div>
              </form> 
            </div>  
          </div>
        <% } %>
      </div>
      
    </div>

    <script>
      let date = new Date();
      let strDate = date.getDate() + ' ';
      const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 
      'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre ',
      'Octubre', 'Noviembre', 'Diciembre']; 
      let month = date.getMonth();
      for (let i = 0; i < months.length; i++) {
        if (month == i) {
          strDate += months[i] + ' de ';
        }
      }
      strDate += date.getFullYear();
	    let current_date = date.getFullYear()+"-"+(date.getMonth()+1)+"-"+ date.getDate();
	    document.getElementById("p1").innerHTML = strDate;
    </script>

</body>