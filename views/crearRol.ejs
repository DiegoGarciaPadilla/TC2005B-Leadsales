<!DOCTYPE html>
<head>
    <title>Roles</title>
    <link rel="stylesheet" href="/css/output.css" />
    <style>
        body {
            background-color: #e4e8ee;
        }

        #container {
            position: relative;
            height: 500px;
            box-shadow: 1px 4px 8px rgba(36, 37, 42, 0.2);
        }
        #containerElements {
            overflow-y: auto;
            height: 100%;
        }
        #element {
            position: relative;
        }
        #main-content {
            transition: padding-left 0.3s ease;
            padding-left: 3.5rem;
        }
        .side:hover ~ #main-content {
            padding-left: 10rem;
        }

        #adj {
            transition: color 0.3s ease, transform 0.3s ease;
        }

        #adj:hover {
            color: #2563eb;
            transform: scale(1.05);
        }

    </style>
</head>
<body>
    <nav><%- include('partials/sidebar.ejs') %></nav>
    <div id="main-content" class="ml-14 mt-14 pl-8">
        <nav class="flex">
            <a href="/ajustes">
                <h1
                    id="adj"
                    class="mb-6 pr-2 text-2xl font-semibold leading-none tracking-tight text-blue-400 md:text-3xl lg:text-3xl"
                >
                    Ajustes
                </h1>
            </a>
            <a href="/ajustes/roles">
                <h1
                    id="adj"
                    class="mb-6 pr-2 text-2xl font-semibold leading-none tracking-tight text-blue-400 md:text-3xl lg:text-3xl"
                >
                    / Roles
                </h1>
            </a>
            <h1
                class="mb-6 pr-2 text-2xl font-semibold leading-none tracking-tight text-blue-600 md:text-3xl lg:text-3xl"
            >
                / Crear Rol
            </h1>
        </nav>
        <form action="/ajustes/roles/crearRol/" method="POST" onsubmit="return validateForm()">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
            <div class="mb-4">
                <label
                    for="Nombre"
                    class="block text-gray-700 text-sm font-bold mb-2"
                    >Nombre</label
                >
                <input
                    type="text"
                    required
                    id="Nombre"
                    name="Nombre"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                />
            </div>
            <div class="mb-4">
                <label
                    for="DescripcionRol"
                    class="block text gray-700 text-sm font-bold mb-2"
                    >Descripci√≥n</label
                >
                <input
                    type="text"
                    required
                    id="DescripcionRol"
                    name="DescripcionRol"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                />
            </div>
            <div class="mb-4">
                <p class="block text gray-700 text-sm font-bold mb-2">
                    Privilegios
                </p>
                <div class="grid grid-cols-3">
                    <% for (let i = 0; i < privilegios.length; i++) { %>
                    <div class="mb-1 flex">
                        <input
                            type="checkbox"
                            id="Privilegio<%= i %>"
                            name="Privilegios"
                            value="<%= privilegios[i].IDPrivilegio %>"
                            class="mr-2"
                        />
                        <label class="flex items-center"
                            ><%= privilegios[i].Descripcion %></label
                        >
                    </div>
                    <% } %>
                </div>
            </div>
            <button
                type="submit"
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
            >
                Crear Rol
            </button>
        </form>
    </div>
    <script>
        function validateForm() {
            var checkboxes = document.querySelectorAll('input[type="checkbox"]');
            var checked = false;
            for (var i = 0; i < checkboxes.length; i++) {
                if (checkboxes[i].checked) {
                    checked = true;
                    break;
                }
            }
            if (!checked) {
                alert('Debe seleccionar al menos un privilegio.');
                return false;
            }
            return true;
        }
    </script>
</body>
